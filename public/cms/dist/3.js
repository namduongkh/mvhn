webpackJsonp([3],{589:function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(763)}var Component=__webpack_require__(3)(__webpack_require__(765),__webpack_require__(771),injectStyle,"data-v-ede88a26",null);module.exports=Component.exports},763:function(module,exports,__webpack_require__){var content=__webpack_require__(764);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);var add=__webpack_require__(19).default;add("cb6cd41a",content,!0,{})},764:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(!1),exports.push([module.i,"",""])},765:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assign=__webpack_require__(26),_assign2=_interopRequireDefault(_assign),_stringify=__webpack_require__(44),_stringify2=_interopRequireDefault(_stringify),_extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2),_vuex=__webpack_require__(10),_UserRightLoader=__webpack_require__(766),_UserRightLoader2=_interopRequireDefault(_UserRightLoader);exports.default={name:"DetailUserGroup",components:{UserRightLoader:_UserRightLoader2.default},data:function(){return{formData:{},cmsUrl:window.settings.services.cmsUrl+"/user_groups",froalaConfig:{imageUploadURL:window.settings.services.webUrl+"/api/upload/image",imageUploadMethod:"POST",imageUploadParams:{type:"wysiwyg/post"}}}},computed:(0,_extends3.default)({},(0,_vuex.mapGetters)(["itemSelected","authUser"])),watch:{itemSelected:function(data){data&&(this.formData=JSON.parse((0,_stringify2.default)((0,_assign2.default)({},data))))},"formData.name":function(val){this.formData.slug=this.$options.filters.text2Slug(val)},"formData.attribute":function(attribute){}},methods:(0,_extends3.default)({},(0,_vuex.mapActions)(["initService","saveItem","getItemById","newItem"]),{save:function(options){var _this=this,self=this;this.$validator.validateAll().then(function(res){res?self.saveItem({formData:self.formData,options:options}):_this.$notify("Please check your data",{type:"warning"})})},resetForm:function(){this.errors.clear(),this.formData._id?this.getItemById({id:this.formData._id}):this.newItem()}}),created:function(){this.initService(this.cmsUrl);var id=this.$route.params.id;void 0!==id?this.getItemById({id:id}):this.newItem()},mounted:function(){}}},766:function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(767)}var Component=__webpack_require__(3)(__webpack_require__(769),__webpack_require__(770),injectStyle,null,null);module.exports=Component.exports},767:function(module,exports,__webpack_require__){var content=__webpack_require__(768);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);__webpack_require__(43)("34f907be",content,!0,{})},768:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(!1),exports.push([module.i,"\ntable > tr > td {\n  vertical-align: middle;\n}\n",""])},769:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _services=__webpack_require__(70),_services2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_services),_lodash=__webpack_require__(71);exports.default={name:"UserRightLoader",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{selected:[],service:new _services2.default(window.settings.services.cmsUrl+"/user_rights"),userRights:[],right:{}}},mounted:function(){var that=this;this.service.getItems({select:"name controller action"}).then(function(resp){that.userRights=resp.data.data})},methods:{saveRight:function(){var that=this;if(!this.right.name||!this.right.controller||!this.right.action)return void this.$notify("Please check your data",{type:"warning"});this.service.addItem(this.right).then(function(resp){that.userRights.unshift({_id:resp.data.data._id,controller:resp.data.data.controller,action:resp.data.data.action,name:resp.data.data.name}),that.selected.unshift(resp.data.data._id),that.$notify(resp.data.message,{type:"success"})})},removeRight:function(right){if(confirm("Are you sure?")){var that=this;this.service.deleteItem(right._id).then(function(resp){(0,_lodash.remove)(that.selected,function(id){return id.toString()==right._id.toString()}),(0,_lodash.remove)(that.userRights,function(_right){return _right._id.toString()==right._id.toString()}),that.$forceUpdate(),that.$notify(resp.data.message,{type:"success"})})}}},watch:{value:{deep:!0,handler:function(val){this.selected=val}},selected:function(val){this.$emit("input",val)}}}},770:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("table",{staticClass:"table table-bordered"},[_vm._m(0),_vm._v(" "),_c("tbody",_vm._l(_vm.userRights,function(right,index){return _c("tr",{key:index},[_c("td",[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:right._id,checked:Array.isArray(_vm.selected)?_vm._i(_vm.selected,right._id)>-1:_vm.selected},on:{change:function($event){var $$a=_vm.selected,$$el=$event.target,$$c=!!$$el.checked;if(Array.isArray($$a)){var $$v=right._id,$$i=_vm._i($$a,$$v);$$el.checked?$$i<0&&(_vm.selected=$$a.concat([$$v])):$$i>-1&&(_vm.selected=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}else _vm.selected=$$c}}})]),_vm._v(" "),_c("td",[_vm._v(_vm._s(right.name))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(right.controller))]),_vm._v(" "),_c("td",[_vm._v(_vm._s(right.action))]),_vm._v(" "),_c("td",[_c("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function($event){return _vm.removeRight(right)}}},[_c("i",{staticClass:"fa fa-trash"})])])])}),0)]),_vm._v(" "),_c("hr"),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-12"},[_c("form",{staticClass:"form form-inline"},[_c("label",{attrs:{for:"name"}},[_vm._v("Name")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.right.name,expression:"right.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Permit for someone"},domProps:{value:_vm.right.name},on:{input:function($event){$event.target.composing||_vm.$set(_vm.right,"name",$event.target.value)}}}),_vm._v(" "),_c("label",{attrs:{for:"controller"}},[_vm._v("Controller")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.right.controller,expression:"right.controller"}],staticClass:"form-control",attrs:{type:"text",placeholder:"posts"},domProps:{value:_vm.right.controller},on:{input:function($event){$event.target.composing||_vm.$set(_vm.right,"controller",$event.target.value)}}}),_vm._v(" "),_c("label",{attrs:{for:"action"}},[_vm._v("Action")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.right.action,expression:"right.action"}],staticClass:"form-control",attrs:{type:"text",placeholder:"index"},domProps:{value:_vm.right.action},on:{input:function($event){$event.target.composing||_vm.$set(_vm.right,"action",$event.target.value)}}}),_vm._v(" "),_c("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function($event){return _vm.saveRight()}}},[_c("i",{staticClass:"fa fa-plus"}),_vm._v(" Add\n        ")])])])])])},staticRenderFns:[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th"),_vm._v(" "),_c("th",[_vm._v("Name")]),_vm._v(" "),_c("th",[_vm._v("Controller")]),_vm._v(" "),_c("th",[_vm._v("Action")]),_vm._v(" "),_c("th")])])}]}},771:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-content"},[_c("div",{staticClass:"container-fluid"},[_c("DetailActions",{attrs:{title:"UserGroup",listRouter:"/user_groups",routeDetail:"/user_group",formData:_vm.formData,disable:_vm.errors.any()},on:{action:_vm.save,reset:_vm.resetForm}}),_vm._v(" "),_c("form",{staticClass:"box-typical box-typical-padding"},[_c("h5",{staticClass:"m-t-lg with-border"},[_vm._v("Fill data below and click actions above")]),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-6"},[_c("fieldset",{staticClass:"form-group"},[_c("label",{staticClass:"form-label semibold",attrs:{for:"name"}},[_vm._v("Name")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.formData.name,expression:"formData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-name":"name",type:"text",id:"name",placeholder:"Enter name"},domProps:{value:_vm.formData.name},on:{input:function($event){$event.target.composing||_vm.$set(_vm.formData,"name",$event.target.value)}}}),_vm._v(" "),_c("small",{directives:[{name:"show",rawName:"v-show",value:_vm.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger"},[_vm._v(_vm._s(_vm.errors.first("name")))])])]),_vm._v(" "),_c("div",{staticClass:"col-sm-6"},[_c("fieldset",{staticClass:"form-group"},[_c("label",{staticClass:"form-label semibold",attrs:{for:"slug"}},[_vm._v("Slug")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.formData.slug,expression:"formData.slug"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-name":"slug",type:"text",id:"name",placeholder:"Enter slug"},domProps:{value:_vm.formData.slug},on:{input:function($event){$event.target.composing||_vm.$set(_vm.formData,"slug",$event.target.value)}}}),_vm._v(" "),_c("small",{directives:[{name:"show",rawName:"v-show",value:_vm.errors.has("slug"),expression:"errors.has('slug')"}],staticClass:"text-danger"},[_vm._v(_vm._s(_vm.errors.first("slug")))])])])]),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-6"},[_c("fieldset",{staticClass:"form-group"},[_c("label",{staticClass:"form-label",attrs:{for:"status"}},[_vm._v("Status")]),_vm._v(" "),_c("select",{directives:[{name:"model",rawName:"v-model",value:_vm.formData.status,expression:"formData.status"}],staticClass:"form-control",attrs:{name:"status",id:"status"},on:{change:function($event){var $$selectedVal=Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){return"_value"in o?o._value:o.value});_vm.$set(_vm.formData,"status",$event.target.multiple?$$selectedVal:$$selectedVal[0])}}},[_c("option",{domProps:{value:1}},[_vm._v("Publish")]),_vm._v(" "),_c("option",{domProps:{value:0}},[_vm._v("Unpublish")]),_vm._v(" "),_c("option",{domProps:{value:2}},[_vm._v("Trashed")])])])])]),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-12"},[_c("h6",{staticClass:"m-t-lg with-border"},[_vm._v("Allowed Rights")]),_vm._v(" "),_c("UserRightLoader",{model:{value:_vm.formData.allowedRights,callback:function($$v){_vm.$set(_vm.formData,"allowedRights",$$v)},expression:"formData.allowedRights"}})],1)])])],1)])},staticRenderFns:[]}}});