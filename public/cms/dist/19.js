webpackJsonp([19],{577:function(module,exports,__webpack_require__){function injectStyle(ssrContext){__webpack_require__(711)}var Component=__webpack_require__(3)(__webpack_require__(713),__webpack_require__(714),injectStyle,null,null);module.exports=Component.exports},591:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__(256),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(37),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(45),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(257),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(258),_inherits3=_interopRequireDefault(_inherits2),_services=__webpack_require__(70),_services2=_interopRequireDefault(_services),ResourcesService=function(_Service){function ResourcesService(){return(0,_classCallCheck3.default)(this,ResourcesService),(0,_possibleConstructorReturn3.default)(this,(ResourcesService.__proto__||(0,_getPrototypeOf2.default)(ResourcesService)).apply(this,arguments))}return(0,_inherits3.default)(ResourcesService,_Service),(0,_createClass3.default)(ResourcesService,[{key:"index",value:function(params){return this.getItems(params)}},{key:"new",value:function(){return this.newItem()}},{key:"edit",value:function(id){return this.getItemById(id)}},{key:"show",value:function(id){return this.getItemById(id)}},{key:"create",value:function(data){return this.addItem(data)}},{key:"update",value:function(id,data){return this.updateItem(id,data)}},{key:"delete",value:function(id){return this.deleteItem(id)}}]),ResourcesService}(_services2.default);exports.default=ResourcesService},711:function(module,exports,__webpack_require__){var content=__webpack_require__(712);"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);__webpack_require__(43)("3c8599ac",content,!0,{})},712:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(12)(!1),exports.push([module.i,"\n.table-item {\n  border: 1px solid #eee;\n  border-radius: 5px;\n  padding: 1em;\n  margin-bottom: 1em;\n}\n.table-item--active {\n  background-color: rgba(70, 195, 95, 0.3);\n}\n",""])},713:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2),_resources_service=__webpack_require__(591),_resources_service2=_interopRequireDefault(_resources_service),_vuex=__webpack_require__(10);exports.default={name:"StoreTables",data:function(){return{service:new _resources_service2.default(window.settings.services.cmsUrl+"/store_tables"),storeTables:{},storeTable:{}}},methods:(0,_extends3.default)({},(0,_vuex.mapActions)(["goto"]),{index:function(){var _this=this;this.service.index({store:this.$route.params.storeId}).then(function(_ref){var data=_ref.data;_this.storeTables=data.data})},new:function(){var _this2=this;this.service.new().then(function(_ref2){var data=_ref2.data;_this2.storeTable=data,_this2.storeTable.store=_this2.$route.params.storeId})},create:function(){var _this3=this;if(!this.storeTable.name)return alert("Please enter a name!");this.service.create(this.storeTable).then(function(_ref3){var data=_ref3.data;_this3.$notify(data.message,{type:"success"}),_this3.index(),_this3.new()})},update:function(table){var _this4=this,id=table._id;delete table._id,this.service.update(id,table).then(function(_ref4){var data=_ref4.data;_this4.$notify(data.message,{type:"success"})})},remove:function(id){var _this5=this;confirm("Are you sure?")&&this.service.delete(id).then(function(_ref5){var data=_ref5.data;_this5.$notify(data.message,{type:"success"}),_this5.index()})}}),created:function(){this.index(),this.new()}}},714:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-content"},[_c("div",{staticClass:"container-fluid"},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-12 text-right"},[_c("StorePanel",{attrs:{store:_vm.$route.params.storeId}})],1)]),_vm._v(" "),_c("div",{staticClass:"box-typical box-typical-padding"},[_c("h5",{staticClass:"with-border"},[_vm._v("Seats")]),_vm._v(" "),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-sm-4 col-xs-12"},[_c("div",{staticClass:"table-item"},[_c("label",{attrs:{for:""}},[_vm._v("Name")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.storeTable.name,expression:"storeTable.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Table 1..."},domProps:{value:_vm.storeTable.name},on:{input:function($event){$event.target.composing||_vm.$set(_vm.storeTable,"name",$event.target.value)}}}),_vm._v(" "),_c("label",{attrs:{for:""}},[_vm._v("Description")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.storeTable.description,expression:"storeTable.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Something..."},domProps:{value:_vm.storeTable.description},on:{input:function($event){$event.target.composing||_vm.$set(_vm.storeTable,"description",$event.target.value)}}}),_vm._v(" "),_c("br"),_vm._v(" "),_c("button",{staticClass:"btn btn-secondary-outline",attrs:{type:"button"},on:{click:function($event){return _vm.create()}}},[_c("i",{staticClass:"fa fa-plus"}),_vm._v(" Add\n            ")])])]),_vm._v(" "),_vm._l(_vm.storeTables,function(table){return _c("div",{key:table._id,staticClass:"col-sm-4 col-xs-12"},[_c("div",{staticClass:"table-item",class:{"table-item--active":table.activeOrder}},[_c("label",{attrs:{for:""}},[_vm._v("Name")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:table.name,expression:"table.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Table 1..."},domProps:{value:table.name},on:{input:function($event){$event.target.composing||_vm.$set(table,"name",$event.target.value)}}}),_vm._v(" "),_c("label",{attrs:{for:""}},[_vm._v("Description")]),_vm._v(" "),_c("input",{directives:[{name:"model",rawName:"v-model",value:table.description,expression:"table.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Something..."},domProps:{value:table.description},on:{input:function($event){$event.target.composing||_vm.$set(table,"description",$event.target.value)}}}),_vm._v(" "),_c("br"),_vm._v(" "),table.activeOrder?_c("button",{staticClass:"btn btn-success-outline",attrs:{type:"button"},on:{click:function($event){return _vm.goto({name:"EditStoreOrder",params:{storeTableId:table._id,id:table.activeOrder}})}}},[_c("i",{staticClass:"fa fa-eye"}),_vm._v(" Active Order\n            ")]):_c("button",{staticClass:"btn btn-primary-outline",attrs:{type:"button"},on:{click:function($event){return _vm.goto({name:"NewStoreOrder",params:{storeTableId:table._id}})}}},[_c("i",{staticClass:"fa fa-plus"}),_vm._v(" New Order\n            ")]),_vm._v(" "),_c("button",{staticClass:"btn btn-secondary-outline",attrs:{type:"button"},on:{click:function($event){return _vm.goto({name:"ListStoreOrders",params:{storeTableId:table._id}})}}},[_c("i",{staticClass:"fa fa-file-invoice"})]),_vm._v(" "),_c("button",{staticClass:"btn btn-secondary-outline",attrs:{type:"button"},on:{click:function($event){return _vm.goto({name:"EditStoreTable",params:{id:table._id}})}}},[_c("i",{staticClass:"fa fa-edit"})]),_vm._v(" "),_c("button",{staticClass:"btn btn-danger-outline",attrs:{type:"button"},on:{click:function($event){return _vm.remove(table._id)}}},[_c("i",{staticClass:"fa fa-trash"})]),_vm._v(" "),table.activeOrder?_c("small",[_vm._v(_vm._s(_vm._f("timeForm")(table.updatedAt)))]):_vm._e()])])})],2)])])])},staticRenderFns:[]}}});